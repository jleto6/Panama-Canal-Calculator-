<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Calculation</title>

    <script>
        function toggleView(viewType) {
            document.querySelectorAll('.calc-result').forEach(el => el.style.display = 'none');  
            document.querySelectorAll('.' + viewType).forEach(el => el.style.display = 'block');
        }
    </script>

</head>
<body>
    <h1>Panama Canal Water Calculator</h1>
    <p>Enter ship details below to calculate water usage.</p>

    <form action="/calculate" method="post">
        <label for="ship_size">Ship Tonnage:</label>
        <input type="number" name="ship_size" required value="{{ session.get('ship_size', '') }}">
        <button type="submit">Calculate</button>
    </form>

    {% if result %}
    <h2>Calculation Results</h2>

        <!-- Radio buttons to toggle between Per Lock and Per Transit -->
        <form>
            <label>
                <input type="radio" name="amount" value="per_lock" checked onclick="toggleView('per_lock')"> Per Lock
            </label>
            <label>
                <input type="radio" name="amount" value="per_transit" onclick="toggleView('per_transit')"> Per Transit
            </label>
        </form>

        <h3>Panamax Lock</h3>
        <ul class="calc-result per_lock">
            {% for key, value in result.Panamax.per_lock.items() %}
                <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
        </ul>
        <ul class="calc-result per_transit" style="display:none;">
            {% for key, value in result.Panamax.per_transit.items() %}
                <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
        </ul>

        <h3>Neopanamax Lock</h3>
        <ul class="calc-result per_lock">
            {% for key, value in result.Neopanamax.per_lock.items() %}
                <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
        </ul>
        <ul class="calc-result per_transit" style="display:none;">
            {% for key, value in result.Neopanamax.per_transit.items() %}
                <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
        </ul>
    {% endif %}
</body>
</html>